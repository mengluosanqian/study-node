### 三种控制显隐的方式
#### visibility:hidden
* 设置成hidden会隐藏元素
* 其位置还存在与页面文档流中，不会被删除
* 会触发浏览器渲染引擎的重绘

#### display:none
* 设置了none属性会隐藏元素
* 其位置不会被保留下来
* 以会触发浏览器渲染引擎的回流和重绘

#### opacity:0
* 会将元素设置为透明
* 是其位置还存在与页面文档流中，不会被删除
* 会触发浏览器渲染引擎的重绘

### 重绘和回流(重排)

#### 页面加载过程
* 构建DOM树
* 根据DOM节点的几何属性形成render树（渲染树）
* 当渲染树构建完成，页面就根据DOM树开始布局了
* 渲染树也根据设置的样式对应的渲染这些节点

#### 重绘
* 触发条件：不改变DOM树，但是有样式发生变化，例如：修改元素颜色、上述的修改opacity、visibility等不改变DOM树的行为
* 此时虽然没有改变文档流，但是渲染树还得重新渲染页面

#### 回流(重排)
* 触发条件：DOM树结构发生改变(增删DOM节点，修改元素的宽高等)，重新构建DOM树的时候
* DOM树与渲染树是紧密相连的，DOM树构建完，渲染树也会随之对页面进行再次渲染
* 渲染树对页面进行再次渲染的过程叫做回流（重排）

#### 重绘和回流的关系
* 回流的代价远大于重绘
* 回流必定会造成重绘，但重绘不一定触发回流

#### 怎么减少回流
+ DOM的增减行为
+ 几何属性的变化（width、height、border、font等）
  - 如果你要改变多个属性，最好将这些属性定义在一个class中，直接修改class名，这样只用引起一次回流
+ 元素位置的变化
  - 在做元素位移的动画，不要更改margin之类的属性，使用定位脱离文档流后改变位置会更好
+ 获取元素的偏移量属性
+ 页面初次渲染
+ 浏览器窗口尺寸改变